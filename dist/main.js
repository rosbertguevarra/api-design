!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t){e.exports=require("express")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,o){const n=o(2),r=new n.Schema({title:String,date:{type:Date,default:Date.now()},author:String,body:String});e.exports=Blog=n.model("Book",r)},function(e,t,o){const n=o(2),r=new n.Schema({userName:String,firstName:String,lastName:String,email:{type:String,unique:!0},password:String});e.exports=User=n.model("User",r)},function(e,t,o){(function(e){const t=o(7),n=o(8),r=o(10),s=o(11),i=o(0),a=i(),u=o(12),c=o(13),d=o(14),l=o(2);a.disable("x-powered-by");const f=l.connection;l.connect("mongodb://localhost/users_test",{useNewUrlParser:!0}),a.use(i.static(path.resolve(e+"./dist/index.html"))),a.use(d()),a.use(u.json()),a.use(u.urlencoded({extended:!0})),a.use(c("dev")),a.use("/api/",t),a.use("/api",t),a.use("/api/data",s),a.use("/api/data/:id",s),a.use("/api/data/",r),a.use("/api/data/signup",n),f.on("error",console.error.bind(console,"connection error:")),f.once("open",function(){console.log("connected to the database")}),a.listen(3e3,()=>{console.log("server is on 3000")})}).call(this,"/")},function(e,t,o){"use strict";o.r(t),function(e){o(4);const t=o(0).Router();t.get("/",(e,t)=>{t.send("hi")}),t.get("/data",async(e,t)=>{t.send("hello")}),e.exports=t}.call(this,o(3)(e))},function(e,t,o){const n=o(0).Router(),r=o(5),s=(o(1),o(9));n.post("/signup",async(e,t)=>{let o={userName:e.body.userName,firstName:e.body.firstName,lastName:e.body.lastName,email:e.body.email,password:s.hashSync(e.body.password,10)};r.create(o,e=>{if(e)throw e;t.status(200).json(o)})}),e.exports=n},function(e,t){e.exports=require("bcrypt")},function(e,t,o){"use strict";o.r(t),function(e){var t=o(1),n=o.n(t);const r=o(0).Router();o(5);r.post("/login",(e,t)=>{const o={userName:e.body.userName,password:e.body.password};n.a.sign({user:o},"secretKey",(e,o)=>{t.json({token:o})})}),e.exports=r}.call(this,o(3)(e))},function(e,t,o){const n=o(0).Router(),r=o(4),s=o(1);n.put("/data/:id",async(e,t)=>{const o=await r.findById({_id:e.params.id},err);if(err)throw err;t.status(200).json(o)}),n.post("/data",(e,t)=>{s.verify(e.token,"secretkey",(o,n)=>{if(o)t.status(403);else{let o={title:e.body.title,author:e.body.author,body:e.body.body,date:e.body.date};r.create(o,e=>{e?console.log(e):t.status(200).json({newData:o,authData:n})})}})}),n.delete("/data/:id",async(e,t)=>{const o=await r.findByIdAndRemove({_id:e.params.id});t.send(o)}),e.exports=n},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("cors")}]);